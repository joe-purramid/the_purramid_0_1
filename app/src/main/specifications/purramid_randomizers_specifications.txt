// the_purramid_0_1\app\src\main\specifications
// RandomizersHostActivity.kt
Ranodmizers is a collection of four different randomization tools: Spin, Slots, Dice, and Coin Flip. Spin and Slots display a random selection from a defined list of items. Dice displays random results of selected polyhedral dice. Coin Flip displays heads or tails results from selected coins.


 --- RUNTIME EVENTS ---
(1) On first app-intent launch, the randomizer opens in a windowed state.
(2) The most recent randomizer user preferences are saved. Save the following:
	(2.1) Randomizer mode
        (2.1.1) If Spin mode, also save:
            (2.1.1.1) Selected list
            (2.1.1.2) Spin toggle on/off state
            (2.1.1.3) Announce toggle on/off state
            (2.1.1.4) Celebrate toggle on/off state
            (2.1.1.5) Sequence toggle on/off state
        (2.1.2) If Slots mode, also save:
            (2.1.2.1) Selected lists
            (2.1.2.2) Spin toggle on/off state
            (2.1.2.3) Number of columns (3 or 5)
            (2.1.2.4) Announce toggle on/off state            
        (2.1.3) If Dice mode, also save:
            (2.1.3.1) Quantities for each die type
            (2.1.3.2) Color for each die type
            (2.1.3.3) Modifier toggle on/off state
                (2.1.3.3.1) If toggle state on, save the modifier values for each die type
            (2.1.3.4) Use pips toggle on/off state
            (2.1.3.5) Percentile toggle on/off state
            (2.1.3.6) Roll animation toggle on/off state
            (2.1.3.7) Critical success toggle on/off state
            (2.1.3.8) Graph distribution toggle on/off state
                (2.1.3.8.1) If toggle state on, save:
                    (2.1.3.8.1.1) Distribution type (normal or uniform)
                    (2.1.3.8.1.2) Graph type (histogram, line graph, or Q-Q scatter)
        (2.1.4) If Coin Flip mode, also save:
            (2.1.4.1) Quantities for each coin type
            (2.1.4.2) Color for each coin type
            (2.1.4.3) Flip animation toggle on/off state
            (2.1.4.4) Free form toggle on/off state
            (2.1.4.5) Announce toggle on/off state
            (2.1.4.6) Probability toggle on/off state
                (2.1.4.6.1) If toggle state on, save which type of probability (two column, 3x3, 6x6, or 10x10)
            (2.1.4.7) Graph distribution toggle on/off state
                (2.1.4.7.1) If toggle state on, save:
                    (2.1.4.7.1.1) Distribution type (normal or uniform)
                    (2.1.4.7.1.2) Graph type (histogram, line graph, or Q-Q scatter)          
	(2.2) All lists
		(2.2.1) Lists are saved regardless of randomizer mode. It is possible for a user to create a new list in Spin mode and then change to Dice.
        (2.2.2) List deletion is at the discretion of the user.
	(2.3) Randomizer position on the screen
(3) On future app-intent launches, the mask loads saved user preferences.


 --- USER INTERFACE ---
(4) ``ALL RANDOMIZERS``
    (4.1) A Settings button is positioned in the bottom left corner of the randomzier window.
        (4.1.1) Default icon state uses ic_settings.xml.
        (4.1.2) Active state: Programmatically change fill colors for default state icons to #808080.
    (4.2) A Close button is positioned in the top right corner of the randomzier window.
        (4.2.1) Default icon state uses ic_close.xml.
        (4.2.2) Active state: Programmatically change fill colors for default state icons to #808080.
        
(5) ``SPIN UI``
    (5.1) The "spin dial" is a circle divided into colored wedges.
        (5.1.1) The minimum number of wedges is 2.
        (5.1.2) The maximum number of wedges is 44.
        (5.1.3) There is one wedge for every item on a list.
        (5.1.4) Wedges are always equally proportioned based on the number of items being shown.
    (5.2) Each wedge has a different color.
        (5.2) Colors meet or exceed contrast requirements for WCAG 2.2 AA standards.
            (5.2.1) User-defined colors can override the contrast requirements.
    (5.3) Above the spin dial is a "marquee", a rectangle with rounded corners.
        (5.3.1) The marquee displays the active list title.
		(5.3.2) The list title is bold font.
    (5.4) Following the title (but within the marquee rectangle) is a downward facing arrow button
        (5.4.1) The marquee arrow default state is ic_arrow_drop_down.xml.
        (5.4.2) The marquee arrow active state is ic_arrow_drop_up.xml
    (5.5) A selection arrow appears on the side of the spin dial
        (5.5.1) It appears on the right side of the dial for left-to-right languages, using ic_arrow_left.xml
        (5.5.2) It appears on the left side of the dial for right-to-left languages, using ic_arrow_right.xml
        (5.5.3) The selection arrow points at the randomized item selection.
    (5.6) An item can be text, an emoji, an image, or a combination of the three.
        (5.6.1) List items in a wedge align with the angle bisector from the center wedge point to the midpoint of its outer arc.
            (5.6.1.1) This means that only the selected item will be perfectly horizontal.
            (5.6.1.2) This means the item opposite of the selected item will be upside down.
    (5.7) A spin button appears below the spin dial.
        (5.7.1) Default icon state uses ic_spin.xml.
        (5.7.2) Active state: Programmatically change fill colors for default state icons to #808080.
   
(6) ``SLOTS UI``
    (6.1) "Slots" is three adjacent rectangles contained within one larger container rectangle.
		(6.1.1) This is meant to mirror the design of a slot machine, as seen in this image: https://media.istockphoto.com/id/1408111718/vector/%C3%B0%C3%B0%C3%B1-%C3%B0%C3%B0%C3%B1%C3%B0%C2%B5%C3%B1%C3%B0%C3%B0%C2%B5%C3%B1%C3%B0.jpg?s=612x612&w=0&k=20&c=Je7yR0NLeB_befulI4C354Z6WMRRQZhX8209TzZL6qc=
		(6.1.2) 

(7) ``DICE UI``
    (7.1) 

(8) ``COIN FLIP UI``
    (8.1) 


 --- USER EXPERIENCE ---
(9) ``SETTINGS BUTTON FOR ALL MODES``
	(9.3) If a user taps the (4.1) settings button:
		(9.1) its icon changes from (5.1) Default to (5.2) Active.
		(9.2) When activated, a settings menu extends with a smooth transition animation from the settings button.
			(9.2.1) The settings button remains active while the settings window is open.
			(9.2.2) The settings window is rows with text.
				(9.2.2.1) Some settings also include an icon after the text, such as a toggle or an edit icon.
		(9.3) The settings menu includes the following settings ordered from top down:

(10) ``MODE SETTING FOR ALL MODES``
	(10.3.1) "Mode" appears first in order of settings for all four modes
		(10.3.1.1) Following the word "Mode" is a drop-down arrow.
			(10.3.1.1.1) The drop-down arrow's default state is ic_arrow_drop_down.xml
			(10.3.1.1.2) The drop-down arrow's active state is ic_arrow_drop_up.xml
		(10.3.1.2) If the user taps the word "Mode" or the drop-down arrow
			(10.3.1.2.1) A drop-down menu opens that displays all the available lists.
				(10.3.1.2.1.1) The drop-down menu opens with a smooth animation. 
				(10.3.1.2.1.2) The menu is a horizontal rectangle containing four icons.
					(10.3.1.2.1.2.1) From left to right, the icons are:
						(10.3.1.2.1.2.1.1) ic_spin.xml
						(10.3.1.2.1.2.1.2) ic_slots.xml
						(10.3.1.2.1.2.1.3) ic_dice.xml
						(10.3.1.2.1.2.1.4) ic_coin_flip.xml
					(10.3.1.2.1.2.2) Active state: 
						(10.3.1.2.1.2.2.1) Programmatically change fill colors for default state icons to #808080
						(10.3.1.2.1.2.2.2) A thick blue line appears beneath the icon.
			(10.3.1.2.2) The randomizer changes to the newly selected.
				(10.3.1.2.2.1) Only that randomizer changes modes. Any other randomizers that are also open remain unchanged.
				(10.3.1.2.2.2) Any settings that appear in both modes remain the same.
					(10.3.1.2.2.2.1) For example, if the user changes from SPIN to SLOTS:
						(10.3.1.2.2.2.1.1) The list of items remains the same.
						(10.3.1.2.2.2.1.2) The Announce toggle state remains the same. 

(11) ``ADD ANOTHER SETTING FOR ALL MODES``
	(11.1) "Add Another" appears last in order of settings for all four modes.
		(11.1.1) Following the phrase "Add Another" is an add icon.
			(11.1.1.1) The default icon state is ic_add_circle.xml.
			(11.1.1.2) The active state icon programatically changes the fill color of the default icon to #808080.
	(11.2) When a user touches the Add Another button, 
		(11.2.1) Its icon becomes Active.
			(11.2.1.1) Its icon returns to default when the onTouch event ends.
		(11.2.2) A new randomizer appears at the geometric center of the screen.
			(11.2.2.1) The new randomizer adopts the properties of the randomizer from which it was made.
				(11.2.2.1.1) It is set to the same mode.
				(11.2.2.1.2) It has the same height and width.
				(11.2.2.1.3) If the source traffic light had a billboard image, that image appears in the new traffic light as well.
			(11.2.2.2) If another randomizer already exists at the geometric center of the display screen, the new randomizer should appear in an offset position (e.g., +25px down and +25px right) from the centered randomizer.
	(11.3) If four randomizers are already present on the screen, 
		(11.3.1) The Add Another button is inactivated. Nothing happens if a user touches it.
		(11.3.2) The icon fill and outline colors change. (TODO: Define specific hex colors for an inactive icon.)

(12) ``SPIN MODE SPECIFIC UX``
    (12.1) If a user taps the marquee (the (5.4) title or the (5.5) arrow):
		(12.1.1) The marquee arrow changes to its active state with a smooth animation
		(12.1.2) A drop-down menu opens that displays all the available lists.
			(12.1.2.1) The drop-down menu opens with a smooth animation. 
			(12.1.2.2) The active list appears first in the order.
			(12.1.2.3) All other lists are ordered alphanumerically.
		(12.1.3) The user can tap any list title to apply that list
			(12.1.3.1) The new list title replaces the existing list title in the marquee.
				(12.1.3.1.1) The new title is bold font.
			(12.1.3.2) The list items replace the existing list items on the spin dial.
			(12.1.3.3) The drop-down menu closes with a smooth animation.
			(12.1.3.4) The drop-down arrow returns to a default state with a smooth animation.
	(12.2) If a user taps the (5.7) spin button:
		(12.2.1) The spin button changes to its active state.
		(12.2.2) The spin dial rotates with a smooth animation for 2.0 seconds.
			(12.2.2.1) The spin dial rotates clockwise for left-to-right languages.
			(12.2.2.2) The spin dial rotates counter-clockwise for right-to-left languages.
			(12.2.2.3) Use a pseudo-random number generator to select an item from the list.
				(12.2.2.3.1) An item's number is determined by its order in the list.
				(12.2.2.3.2) Only one number result is generated per spin.
				(12.2.2.3.3) Each spin is a unique event, generating a new number result.
			(12.2.2.4) When the animation complets, the randomly selected list item should align with the (5.5) selection arrow.
			(12.2.2.5) If spinning is turned off in the settings, the dial immediately displays the result.

``SPIN MODE SETTINGS``
	(12.3) The settings window for Spin mode includes these additional settings:
		(12.3.1) Each setting includes text and an icon.

``SPIN: LIST EDITOR``
		(12.3.2) "List Editor"
			(12.3.2.1) This settings title is followed by an edit icon.
				(12.3.2.1.1) Default icon state uses ic_edit.xml.
				(12.3.2.1.2) Active state: Programmatically change fill colors for default state icons to #808080.
			(12.3.2.2) Tapping the phrase "List Editor" or the edit icon, opens the list collection editor:
				(12.3.2.2.1) The list collection editor window opens overtop the settings window.
				(12.3.2.2.2) This window includes:
					(12.3.2.2.2.1) A back arrow in the top left corner of the window. 
						(12.3.2.2.2.1.1) Default icon state uses ic_back.xml.
						(12.3.2.2.2.1.2) Active state: Programmatically change fill colors for default state icons to #808080.
						(12.3.2.2.2.1.3) When activated the Adjust Values window closes.
							(12.3.2.2.2.1.3.1) The user returns to the main settings window.
					(12.3.2.2.2.2) A close button in the top right corner of the window.
						(12.3.2.2.2.2.1) Default icon state uses ic_close.xml.
						(12.3.2.2.2.2.2) Active state: Programmatically change fill colors for default state icons to #808080.
						(12.3.2.2.2.2.3) When activated all settings related windows close.
					(12.3.2.2.2.3) A list of each list title, ordered alphanumerically.
						(12.3.2.2.2.3.1) There re six pregenerated lists:
							(12.3.2.2.3.1.1) "Colors"
								(12.3.2.2.3.1.1.1) List items are strings to be translated.
								(12.3.2.2.3.1.1.2) List items are: "Red", "Orange", "Yellow", "Green", "Blue", and "Purple"
								(12.3.2.2.3.1.1.3) Colors is the default list displayed if no list is saved in preferences.
							(12.3.2.2.3.1.2) "Consonants (English)"
								(12.3.2.2.3.1.2.1) List items are not strings.
								(12.3.2.2.3.1.2.2) "B", "C", "D", "F", "G", "H", "J", "K", "L", "M", "N", "P", "Q", "R", "S", "T", "V", "W", "X", "Y*", "Z"
							(12.3.2.2.3.1.3) "Continents"
								(12.3.2.2.3.1.3.1) List items are strings to be translated.
								(12.3.2.2.3.1.3.2) "Africa", "Antarctica", "Asia", "Australia", "Europe", "North America", and "South America"
							(12.3.2.2.3.1.4) "Numbers"
								(12.3.2.2.3.1.4.1) List items are not strings.
								(12.3.2.2.3.1.4.2) "0", "1", "2", "3", "4", "5", "6", "7", "8", and "9"
							(12.3.2.2.3.1.5) "Oceans"
								(12.3.2.2.3.1.5.1) List items are strings to be translated.
								(12.3.2.2.3.1.5.2) "Oceans" are "Arctic", "Atlantic", "Indian", "Pacific", and "Southern"
							(12.3.2.2.3.1.6) "Vowels (English)"
								(12.3.2.2.3.1.6.1) List items are not strings.
								(12.3.2.2.3.1.6.2) "A", "E", "I", "O", "U", and "Y*"
						(12.3.2.2.2.3.2) There is a maximum limit of 20 lists.
						(12.3.2.2.2.3.3) "Add New List" appears as the first row in the list
							(12.3.2.2.2.3.3.1) If there are already 20 lists, "Add New List" is not displayed.
							(12.3.2.2.2.3.3.2) Clicking on "Add New List" opens an empty list item editor with empty fields.
					(12.3.2.2.2.4) Each title is followed by a number in parentheses.
						(12.3.2.2.2.4.1) This number is the quantity of items in that list.
						(12.3.2.2.2.4.2) For example, Colors has six items, so "(6)" would appear after its title.
					(12.3.2.2.2.5) Aligned to the right of each list row is a delete button.
						(12.3.2.2.2.5.1) Default state: ic_delete.xmlm
						(12.3.2.2.2.5.2) Active state: Programmatically change fill colors for default state icons to #808080.
						(12.3.2.2.2.5.3) Tapping the Delete button
							(12.3.2.2.2.5.3.1) Causes the icon to become active
							(12.3.2.2.2.5.3.2) Opens the snackbar, "Are you sure you want to delete this list? It cannot be undone."
								(12.3.2.2.5.3.2.1) There is an oval with the string "Cancel"
									(12.3.2.2.5.3.2.1.1) This oval has no fill.
								(12.3.2.2.5.3.2.2) There is an oval with the string "Delete".
									(12.3.2.2.5.3.2.2.1) This oval has a colored fill that matches development standards (blue?)
							(12.3.2.2.2.5.3.3) If the user chooses Cancel:
								(12.3.2.2.2.5.3.3.1) The snackbar closes.
								(12.3.2.2.2.5.3.3.2) The delete icon returns to its default state.
								(13.2.3.3.3.5.3.3.3) The list of lists remains unchanged.
							(12.3.3.3.3.5.3.4) If the user chooses Delete:
								(12.3.2.2.2.5.3.4.1) The snackbar closes.
								(12.3.2.2.2.5.3.4.2) The delete icon returns to its default state.
								(13.2.3.3.3.5.3.4.3) The list is:
									(13.2.3.3.5.3.4.3) Remoeve from the list of lists
									(13.2.3.3.5.3.4.3) Deleted from preferences.
										(13.2.3.3.5.3.4.3.1) This deletion applies across all randomizer windows.
											(13.2.3.3.5.3.4.3.1.1) If another randomizer displayed the list that was deleted, that randomizer defaults to the first list available in the updated order of lists.
										(13.2.3.3.5.3.4.3.2) This list will not be loaded again on future launches.
						(12.3.2.2.2.5.4) Pregenerated lists can be deleted.
							(12.3.2.2.2.5.4.1) This is most likely to happen for non-English speakers who will choose to replace consonants and vowels from their own languages.
			(12.3.2.3) Tapping the phrase "List Editor" or the edit icon, opens the list item editor:
				(12.3.2.3.1) The list item editor window opens overtop the settings window.
				(12.3.2.3.2) This window includes:
					(12.3.2.3.2.1) A back arrow in the top left corner of the window. 
						(12.3.2.3.2.1.1) Default icon state uses ic_back.xml.
						(12.3.2.3.2.1.2) Active state: Programmatically change fill colors for default state icons to #808080.
						(12.3.2.3.2.1.3) When activated the Adjust Values window closes.
							(12.3.2.3.2.1.3.1) The user returns to the main settings window.
					(12.3.2.3.2.2) A close button in the top right corner of the window.
						(12.3.2.3.2.2.1) Default icon state uses ic_close.xml.
						(12.3.2.3.2.2.2) Active state: Programmatically change fill colors for default state icons to #808080.
						(12.3.2.3.2.2.3) When activated all settings related windows close.
					(12.3.2.3.2.3) A text field with the list title.
						(12.3.2.3.2.3.1) If this is a new list, the string "Text Title" appears
						(12.3.2.3.2.3.2) Tapping on this text field opens the system keyboard.
					(12.3.2.3.2.4) Below the title text field is 
						(12.3.2.3.2.4.1) a discrete row for each item if the list has already been populated with one or more items.
							(12.3.2.3.2.4.1.1) Each item is displayed in its own text field
								(12.3.2.3.2.4.1.1.1) At the end of each text field is:
									(12.3.2.3.2.4.1.2.1) An emoji icon button
										(12.3.2.3.2.4.1.2.1.1) Default state ic_emoji.xml
										(12.3.2.3.2.4.1.2.1.2) Active state: Programmatically change fill colors for default state icons to #808080.
										(12.3.2.3.2.4.1.2.1.3) If emoji is activated, open an emoji library
											(12.3.2.3.2.4.1.2.1.3.1) The library closes after one emoji is selected.
											(12.3.2.3.2.4.1.2.1.3.2) No more than 10 emoji can be added per line.
									(12.3.2.3.2.4.1.2.2) An image icon button
										(12.3.2.3.2.4.1.2.2.1) Default state ic_image.xml
										(12.3.2.3.2.4.1.2.2.2) Active state: Programmatically change fill colors for default state icons to #808080.
										(12.3.2.3.2.4.1.2.2.3) If image upload is activated, open system window to upload an image
											(12.3.2.3.2.4.1.2.2.3.1) Supported images are png, jpg, gif, bmp, and webp.
											(12.3.2.3.2.4.1.2.2.3.2) No more than 1 emoji can be added per line.
											(12.3.2.3.2.4.1.2.2.3.3) An image cannot be larger than 1 MB in size
												(12.3.2.3.2.4.1.2.2.3.3.1) 
							(12.3.2.3.2.4.1.2) Items are ordered alphanumerically 
						(12.3.2.3.2.4.2) a large rectangular text field if list items do not already exist.
							(12.3.2.3.2.4.2.1)This would be the size of five list title rows in the list collection edtior view.
							(12.3.2.3.2.4.2.2) In the top right corner of this text field is:
								(12.3.2.3.2.4.2.2.1) An emoji icon button
									(12.3.2.3.2.4.2.2.1.1) This follows the same rules as (12.3.2.3.2.4.1.2.1)
								(12.3.2.3.2.4.2.2.2) An image icon button
									(12.3.2.3.2.4.2.2.2.1) This follows the same rules as (12.3.2.3.2.4.1.2.2)



(22) List Editor refers to the List view. List creator is the view where list details can be added, edited or deleted. When clicking on a list title or "Add New List", the list creator view opens above the List Editor view. It includes a back button that returns the user to the List Editor and a close button that closes the settings entirely. The list creator is a series of rectangles similar to the stacked lists from the list editor. Set above and apart from the others is a (29) title text field. It displays the string "Text Title" in dark gray text. When the user taps this box, the system keyboard opens and "text title" disappears. They should never need to delete this phrase. Hitting "enter" on the system keyboard confirms the text entry and closes the system keyboard. (30) A list cannot be saved without a title. If list items are entered but no title, the list cannot be saved.

Below the title rectangle is (31) a single, large text field (paragraph sized). Tapping in this field opens the system keyboard. The user can type text into the field. The return button creates a new row. (32) Tap-and-hold in this field will bring up a "Paste" prompt. If selected, any text on the clipboard is pasted into the field. (33) After 1.5 seconds, if no further input has been made, each row of text displays in its own rectangle. The text of the item followed immediately by a (34) pre-assigned color square with a black outline. This is the wedge color from (5). On the right side of the item rows are three icon buttons: (35) an image, (36) an emoji, and (37) a trash can. The trash can functions the same as the delete button from (21) List editor, but with language for an item rather than a list.

Tapping on the item text opens the system keyboard in the same fashion as (30). A cursor appears at the point touched. It can be moved by touching elsewhere in the text field. Touch-and-hold selects the entire word and the standard Android cut/copy/paste options appear. (31) Text fields may not contain more than 27 characters. If a user pastes text in the large text field with more than 27 characters per row, the 27th character is replaced with an ellipsis. Characters 28 and beyond of that row are deleted.

(34) Assigned colors are  assigned programmatically with a color picker library, ensuring this new color meets WCAG 2.2 AA contrast requirements even if the color of the item above it is custom. If the user taps the color squre, (38) it acts like a button.

(38) Tapping on the color square opens a color selector. it has the title "Background Color" atop a standard color wheel. Beside the wheel is a preview rectangle of the chosen color and the stanadrd RGB and Hex code text fields. It overrides any contrast requirements from auto-assigned colors. (39) Beneath the color wheel are six circles with black outlines that show the six most recent custom colors. These are called "color pots". Beneath the color pots is an (40) "Apply" button. This button closes the color selector and applies that color the the item. The color square beside the item text now shows the custom color.

(39) A newly applied color will fill the leftmost color pot the next time the color selector is opened. Older colors move down the row toward the right. If fewer than six custom colors have been chosen, the remaining color pots have a white fill. If more than six custom colors have been chosen, the oldest is forgotten. If a custom color is selected, a blue "selection circle" encircles the color pot and that color is shown in the color preview rectangle. If a custom color is applied from the row, it moves back to the leftmost circle the next time the color selector is opened.


(41) The last rectangle of the items list is empty. It says "Add another item" in the same gray text as was used in the (29) list title. The same beahvior applies that tapping this box opens the system keyboard and the "add another item" text disappears. The enter button on the keyboard confirms the text as a new item. When the user reaches 44 items, the add another rectangle is hidden.

(35) If the user taps on the image button, this opens a file selector where the user can upload one jpg, png, gif, bmp, or webp file. (42) A list item can only include one image. (43) If the user taps the image button again, they receive a warning snackbar that says, "This action will replace your existing image. Would you like to continue?" It should have cancel and continue buttons in the same design style as (21). Uploaded images (44) maintain their aspect ratios. They are not stretched. They are reduced to fit on the dial, but they should not be shrunk so that they distort when shown as an announcement result. (45) If an image is 1 MB or larger, the user should receive a warning window that says "This image is too large. Would you like to optimize it?" This includes Cancel and Optimize buttons in the same design style as (21). If the user chooses Optimize, the image should be shrunk so that it's size is 900 kB or less.

(36) If the user taps on the emoji button, it opens an emoji library that shows a list of emoji that are free to use without license. (46) The user can add ten or fewer emoji per item. (47) There will need to be some kind of "done" button when the user has selected the emoji they want.

Text, images, and emoji can all be included in one item. If the amount of content per row is too large to fit onto an item wedge clearly, it is acceptable for it to disappear at the dial center and the wedge arc edge. The user will learn how best to create items through this inferior use experience.
					

``SPIN: SPIN``
		(12.3.3) "Spin"
			(12.3.3.1) Following the phrase "Spin" is a toggle.
				(12.3.3.1.1) The toggle's default position is on.
					(12.3.3.1.1.1) The toggle should include the words "On" and "Off"
					(12.3.3.1.1.2) These words should be strings so they can be translated.
			(12.3.3.2) If the setting is toggled on, activating the Spin button will cause a spin animation.
			(12.3.3.3) If the setting is toggled off, activating the Spin button does not cause a spin animation.
				(12.3.3.3.1) The result of that spin is immediately displayed.

``SPIN: ANNOUNCE``
		(12.3.4) "Announce"
			(12.3.4.1) Following the phrase "Announce" is a toggle.
				(12.3.4.1.1) The toggle's default position is off.
					(12.3.4.1.1.1) The toggle should include the words "On" and "Off"
					(12.3.4.1.1.2) These words should be strings so they can be translated.
			(12.3.4.2) If the setting is toggled on:
				(13.3.4.2.1) A smooth animation enlarges the randomized item selection to be displayed to the side of the spin dial.
					(13.3.4.2.1.1) The item is displayed at 10f its size on the spin dial.
					(13.3.4.2.1.2) Enlargement should not pixelate text, emoji, or images.
					(13.3.4.2.1.3) This enlargement is an estimate and will need to be revised following trial and error.
				(13.3.4.2.2) The announcement remains on the screen until the user taps the screen.
			(12.3.4.3) If the setting is toggled off, no enlargement occurs after a spin.

``SPIN: CELEBRATE``
		(12.3.5) "Celebrate"
			(12.3.5.1) This setting is only active when Announce is active.
				(12.3.5.1.1)
			(12.3.5.2) Following the phrase "Celebrate" is a toggle.
				(12.3.5.2.1) The toggle's default position is off.
					(12.3.5.2.1.1) The toggle should include the words "On" and "Off"
					(12.3.5.2.1.2) These words should be strings so they can be translated.
			(12.3.5.3) If the setting is toggled on.

``SPIN: SEQUENCE``
		(12.3.6) "Sequence"
			(12.3.6.1) Following the phrase "Sequence" is a toggle.
				(12.3.6.1.1) The toggle's default position is off.
					(12.3.6.1.1.1) The toggle should include the words "On" and "Off"
					(12.3.6.1.1.2) These words should be strings so they can be translated.





(15) Announce: on/off toggle. The default is off. If this is turned on, the text/image/emoji selected is displayed beside the spin dial. (48) A graceful animation takes it from the size it appears on the dial to a much bigger display (a specific size will require some trial and error).


(16) Celebrate: on/off toggle. The default is off. (49) This setting is only active if Announce is turned on. If Announce is toggled off, this setting is inactive and shown as gray. If this is turned on, a confetti (Konfetti) animation plays for 3.0 seconds above the announced selecxtion. (50) confetti_piece_*.xml files have been created for the different colors of confetti pieces.


(17) Sequence: on/off toggle. The default is off. If this is turned on, (51) Announce and Celebrate cannot be on. If they were already on, they are turned off and become inactive and turn gray. (52) When this is on, the dial spins for 1 second for every ten items in the list (rounded up). When the spin animation is complete, the item from the wedge with the selection arrow on the dial is the first of a randomized results list (it does not follow the order of the items on the list). It appears beside the dial (similar to (15) Announce). (53) Beside it are up- and down-facing triangle buttons. (54) Below this item are the next four items in the list. They appear smaller. If the user taps the down-facing arrow, the current term moves up and gets smaller. The next in the order moves up and gets larger. Nine total items can appear beside the dial, the active item, four before it, and four after it. When the user has navigated to the end of the list, terms only appear above it. (53) The up arrow cannot be used if no items are above the current one. The down arrow cannot be used if no items are below the current one. (55) Clicking the spin button creates an entirely new randomized list, beginning at the first term again. Changing the list from the marquee drop-down removes any sequence currently displayed.


















(10) ``SLOTS``
    (10.1) 

(11) ``DICE``
    (11.1) 

(12) ``COIN FLIP``
    (12.1) 



 control buttons immediately below the randomization graphical interface. Controls differ between modes and are defined below for each.




''SLOTS''

The "slots" mode is similar in function to the spin dial. But where a spin dial is a circle that shows all available items, a slots dial is like the outside of a wheel that shows only a few items at a time. The slots dial (56) has a rectangle that shows the current item with a rectangle above and below showing other items. These tiles fade away in a similar manner to the (17) sequence setting. The (57) spin animation rotates the wheel so that the items visible in the (56) view move in a downward motion.

The default is to show (58) three slots dials beside one another, immitating a slot machine. Each column has a list (8) title marquee at its top (with the same functionality as in spin mode) and (59) a padlock button at the bottom. The padlock icon appears unlocked by default. If a user taps the unlocked padlock button, it changes from unlocked to locked. If they tap a locked padlock, it unlocks.

(59) A locked slots dial does not spin when the spin button is pressed. Unlocked slots dials will spin normally.

Each slots dial (4) shows a list of items, with each item having (5) a defined color. It uses the same group of (19) pregenerated lists, with "Colors" being the default list for all three columns the first time this mode is used.



Each column displays a list. The same list can be used by multiple columns. Their results are independent of one another. The most common example of this is the English lesson "consonant, vowel, consonant", where the teacher randomly selects three letters, two consonants and one vowel.



When the user presses the spin button, all unlocked columns spin (vertically, not clockwise like a spin dial) and stop on a randomized result. Spin time is the same as it is for spin mode. Any locked column remains on the result currently displayed without any kind of spinning animation.



The settings for slots mode are:



Mode (same as spin except the user can choose from spin, dice, and coin flip)

Three-column or Five-column toggle. This determines the number of columns shown as part of the slots interface.



Create/Edit Lists - this is the same functionality as spin.



Announce - This is the same functionality as spin, but the results of each column are shown at once (including any columns that were locked).


''DICE''

Understand a common abbreviation for die type is to list the number of sides after the letter d. So a six-sided die would be a d6 and a 10-sided die would be a d10. Dice mode will include d4, d6, d8, d10, d12, and d20 dice. There will also be a "percentile" setting that creates a d10 pair, one with numbers 0 to 9 in increments of one and the other with numbers 00 to 90 in increments of ten. When rolled together the dice results form a percentage.

When entering Dice mode, the initial view is 1d6. The mode should restore the last combination of dice used, in the same fashion as spin and slots functions. Dice appear in a window, in the same fashion as the other modes. The "spin" button is replaced with a "roll" button. There is also an adjacent "dice pool" button, that allows the users to modify how many dice and the type of dice they are rolling. Dice are represented by SVG polyhedrals with a number on each side. The d6 also includes a setting to replace the number with pips, to match the appearance of popular dice.



When a die is rolled, there is an animation that lasts 1 second long. The randomized result is then shown on the polyhedral face shown outward to the user. A decision will have to be made whether the die at rest should appear two dimensional and only the animation looks three dimensional, or whether the die at rest should also appear three dimensional. Let's discuss the possibility of numbers being visible during the animation. If we opt for three-dimensional polyhedrals at rest, let's also discuss other numbers being visible (perhaps faded to show they are not the active number). Each die animates during rolling. Dice are grouped by type, so all d4s are near each other, all d6s are near each other, etc. They do not intermingle.



Dice with opposite sides have a number-placement rule. If the number of sides of the polyhedral = n, then two opposites sides added together should = n+1. (On a six-sided die, the one is opposite the six, the 2 is opposite the five, and the 3 is opposite the four. The same holds true for a d20, where the one is opposite the 20.)



When pressing the Dice Pool button, a window appears with a row of polyhedrals increasing from d4 to d20 based on the number of edges they have. Percentile dice only appear if they are turned on in settings. Below each polyhedral is a text field with a number in it showing the number of dice currently in the pool. (Thus, at first initialization, all dice are at zero except for the d6, which is at 1.) An up arrow button is above the polyhedral. A down arrow button is below the text field. These buttons increase or decrease the number of dice available, respectively. The user can also tap the text field to open a system number pad and change the quantity manually. A die type can have no fewer than 0 and no more than 10. When dice quantities are changed, they appear immediately on the screen even if the dice pool window is still open. To close the dice pool window, the user can tap the button again or touch anywhere outside the dice pool window area.



Unlike spin mode that allows a maximum of four dials, the user can add up to seven total dice pools. When added, a new dice pool window clones the settings of the window from which it was made. Settings changes are applied to the dice pool window from which settings was opened. The window has a yellow highlight border to show which window is actively being modified. Dice mode has the following settings:



MODE - This is the same setting as Spin and Slots



COLOR - This opens a window with a column of polyhedrals ordered by their numbers of sides, with the d4 on top and the d20 on bottom. Percentile dice are listed below the d10 and above the d12. Percentiles can have a different color than the d10. Beside each polyhedral is a color square. This is the same as the color picker from spin and behaves the same. The square reflects the color assigned to the die type. By default, all dice are white with black numbering. Above the d4 row is a checkbox (unchecked by default) with the string "Apply to all". If this box is checked, a color picked applies to all dice and the color square in each row will display the selected color. (Apply all only applies to the dice of this window. If multiple dice windows are open, their dice colors are unchanged.)



d6 Pips on/off toggle - off by default. If turned on, this replaces the numbers on the d6 with pips.



Percentile Dice on/off toggle. Off by default.If turned on, the percentile dice become a choosable die type in the dice pool view.



Roll Animation on/off toggle - on by default. When turned off, a "roll" button press yields an immediate result without animation.



Announcement on/off toggle - off by default. This functions the same way as announcement in Spin mode (including placement in the window).



Sum Results - This setting is available only if Announcement is toggled on. It is a drop-down menu that allows the user to choose between "Individual" (the default), "Sum Die Type", and "Sum Total". Individual announces the results of each die rolled as a series or array. Sum Die Type announces the summed results for each die type that has one or more dice of its type in the die pool (2d4 with the result of 1 and 3 would display as 4; 0d8 would not display a result). Sum Total announces the summed results of all dice rolled as a single number.



Add Modifiers - This setting is available only if Announcement is toggled on. This functions similar to color, but instead of a color square, there is a text field to the right of the polyhedral. By default, all modifiers are set to 0. When tapping the text field, the system number pad opens and the user can enter a number between 0 and 100. When announcing a result, this number is added to the sum of its assigned die type. For example, if d4 had a modifier of 2, 2d4 with results of 1 and 3 would announce: 3 and 5 (for individual) or 8 (for sum die type/sum total).



(It's important that directions are not hard coded. When I say "there is a text field to the right of the polyhedral", this field should appear to the left of the polyhedral in right-to-left languages like Arabic.)



Critical Celebration on/off toggle - off by default. This setting is available only if Announcement is toggled on. When on, fireworks display when a d20 rolls a 20 (only the number on the die face applies, even if an added modifier would equal 20 or more). This functionality is the same as celebration in spin mode.



Graph Distribution - This opens a window with radio buttons "Off" (default), "Manual", "Normal", "Uniform". Below the radio buttons are three line-style icon buttons "solid line" (default), "dashed line", and "dotted line". The graph line displayed after a roll result is the type selected here (solid line, dashed line, or dotted line).



If "Normal" or "Uniform" are selected, there is also a number field and the string "number of rolls" below the line-style buttons. This value is set at 1000 by default. How large of a number of roll computations can we achieve in three seconds?



If Manual, Normal, or Uniform radio buttons are selected, Announcement is automatically toggled off. If announcement is toggled on, Graph Distribution changes to off.



When Graph Distribution is active and the roll button is pressed, the following behaviors occur:



Manual: The roll animation (if active) lasts 0.5 seconds. The result becomes the first entry on an x-y line graph, where the x axis is the number rolls in 5-roll increments (rounded up). The y axis is increments of one to the maximum total possible result (based on sum results setting selection). The roll animation does not need to complete for the user to be able to press the roll button again. With rapid tapping, the animation continues through 0.5 seconds after the final tap (total roll time is not summed based on number of taps). Each tap yields a new result on the line graph. The x-axis grows as the number of rolls exceeds increments of five. A "reset" button should appear beside the Dice Pool button. If pressed, the manual graph is eliminated. Pressing the roll button would then begin a new graph. (Consider whether a reset button should be included for Normal and Uniform as well.)



If Sum Results is set to "individual", each die within a die type is considered a separate roll. 5d10 would yield 5 dots along the x-axis even if the roll button was only pressed once. If the dice pool contains more than one die type, each die type gets its own line on the graph. Lines should be different colors (using the color sequence we created for spin dial wedges to ensure proper contrast).



If Sum Results is set to "Sum Die Type", the functionality is the same as "individual" except multiple dice of the same die type are summed together and entered as a single point on the x-axis. This means the number of points on the x-axis would equal the number of times the roll button is pressed. 



If Sum results is set to "Sum Total", the functionality is the same as "Sum Results" except there is only a single line on the graph rather than a line for each die type. The Y-axis uses increments of 10% of the total possible value (rounded to the closest whole number) after the total sum surpasses the number 20.



Normal: This functionality matches "Manual" with the following variations. The roll animation (if active) lasts for 3.0 seconds. During that time, a number of roles equal to the number listed in settings (default 1000) are computed and a graph with a Normal distribution is plotted. The behaviors for Sum Results settings are the same as in Manual. If the user presses the roll button, the current graph is removed, and a new graph is created.



Uniform: This functionality matches "Manual" with the following variations. The roll animation (if active) lasts for 3.0 seconds. During that time, a number of roles equal to the number listed in settings (default 1000) are computed and a graph with a Uniform distribution is plotted. The behaviors for Sum Results settings are the same as in Manual. If the user presses the roll button, the current graph is removed, and a new graph is created.



The last setting is "Add Another Dice Pool". A total of seven pools can be created. Each window should have a close button and a settings button.


''COIN FLIP''

Each window includes its own pool of coins. Coins available are 1 bit (1b), 5 bits (5b), 10 bits (10b), 25 bits (25b), 1 meatball (1MB), and 2 meatballs (2MB). A user can have a max of ten of each coin in their pool. Coin flipping behavior will be the same as dice rolling, with a button that flips all the coins in the user's pool. Coins animate a flipping motion for 0.75 seconds and then display either a heads (obverse) or tails (reverse) result.



The settings for coin flip are as follows:



1. Mode - Spin, Slots, Dice, Coin Flip



2. Coin Colors - this uses the colorpalette shared file. Goldenrod is the default color.



3. Flip Animation - on/off toggle, default on. If turned off, the coin flip animation is not shown and the result is displayed immediately.



4. Free Form - on/off toggle, default off. When on, all dice in the dice pool appear on the screen. They show their heads (obverse) side. The Flip button is replaced with a Tails button. If pressed, all coins switch to their tails (reverse) side and the button changes to a Heads button. The user can drag each coin anywhere within the bounds of the window.



5. Announcement - On/off toggle, default on. Match the Dice Announcement design. Mutually exclusive with Probability and free form.



6. Probability - Drop down, default "None". The drop-down menu includes the following options:

- None: Default behavior



- Two Columns: Two adjacent columns, heads and tails, appeaer in the window. When coins are flipped



- 3x3 Grid: A 3x3 matrix of empty boxes appears in the window. Each time the user flips a coin/coins, the result of H or T appears in a box, starting at the top left and filling horizontally. When one row is filled, results start on the next row until all boxes are full.



If multiple coins are in the pool, the numbers of the total of each obverse and reverse are listed *H/*T. The type of coin is not tracked. For example, if the user has four 1MB and two 25b and the flip resulted in 1MB - H, H, H, T and 25b - T, T, the box would show 3H/3T.



If all boxes are full, the Flip button turns into a Reset button.



If a user taps a box, a flip action is implemented for that box and any other empty boxes that come before it. For example, the first two boxes of the top row of a 3x3 grid are filled. The user taps the middle box of the second row. Three flip actions will occur, with results populating the top right, middle left, and middle center boxes, in that order. If a user taps a box that is already filled, nothing happens.



- 6x6 Grid: The same as 3x3 but with a larger matrix.



- 10x10 Grid: The same as 3x3 but with a larger matrix.



- Graph Distribution



If graph disstribution is selected, the following settings become visible:

- Graph Distribution Type - match Dice graph distribution design

- Graph Line Style - match Dice line style design

- Graph Flip Count - match Dice flip count design